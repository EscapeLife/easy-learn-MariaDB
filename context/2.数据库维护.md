## 数据库维护

### 1.1 数据类型

> 数据类型是数据的一种属性，它可以决定数据的存储格式、有效范围和相应的限制。

- **整数类型**

| 数据类型 | 包含的种类 |
| -------- | -------- |
| 整数类型 | MySQL: `integer`/`smallint`；扩展: `tinyint`/`mediumint`/`bigint` |

![imagges](../images/easy-learn-mariadb01.png)

- **浮点数类型和定点数类型**

| 数据类型 | 包含的种类 | 注意要点 |
| -------- | -------- | -------- |
| 浮点数类型 | 单精度(`float`)/双精度(`double`) | `M`为精度(数据总长度)；`D`为标度(小数点精度) |
| 定点数类型 | `decimal(M,D)`或`dec(M,D)` | `decimal`和`double`的取值范围相同，但`decimal`由`M`和`D`决定 |

![imagges](../images/easy-learn-mariadb02.png)

- **日期与时间类型**

| 数据类型 | 包含的种类 |
| -------- | -------- |
| 日期与时间类型 | `year`/`date`/`time`/`datetime`/`timestamp` |
| `year` | 插入数值的格式`YYYY`；超过取值范围的年份，会插入0000，查询显示为空 |
| `date` | 插入数值的格式`YYYY-MM-DD`；分隔符可以为任意特殊字符；`current_date`和`now()`表示当前日期 |
| `time` | 插入数值的格式`D HH:MM:SS`，如`2 20:20`表示`68:20:00`；`current_time`和`now()`表示当前时间 |
| `datetime` | 插入数值的格式`YYYY-MM-DD HH:MM:SS`；分隔符可以为任意特殊字符；`now()`表示当前日期和时间 |
| `timestamp` | 大致与`datetime`使用方法类似，但是取值范围比较小；`timestamp`可以根据时区来显示日期和时间 |

![imagges](../images/easy-learn-mariadb03.png)

- **字符串类型**

| 数据类型 | 对于解释 |
| -------- | -------- |
| `char` | 定长字符串，取值范围`0~255` |
| `varchar` | 变长字符串，取值范围`0~65535` |
| `text` | 包含类型`tinytext`/`text`/`mediumtext`/`longtext` |
| `enum` | 枚举类型的定义格式为`enum('value1'， 'value2', ...)`；最多取值范围为`65535`个值 |
| `set` | 基本形式和`enum`类型一样，但值可以为列表中的一个或多个元素组成；最多只能有`64`个元素组成 |

![imagges](../images/easy-learn-mariadb04.png)

- **二进制类型**

| 数据类型 | 对于解释 |
| -------- | -------- |
| 二进制类型 | `binary`/`varbinary`/`bit`/`tinyblog`/`blob`/`meduimblob`/`longblob` |
| `blob` | `blob`类型主要用来存储图片、PDF文档等二进制文件 |
| `binary` | `binary`/`varbinary`/`bit`类型都是在创建时指定最大长度 |

![imagges](../images/easy-learn-mariadb05.png)

> 常见问题以及解答

- **【问题1】MariaDB中什么数据类型能够存储路径？**
  - `MariaDB`中可以使用`char`、`varchar`和`text`来存储路径。但是，如果路径中使用`\`符号时会被自动过滤掉。可以使用`/`或`\\`来代替，这样`MariaDB`就不会自动过滤路径的分隔符号了。

- **【问题2】MariaDB中如何使用布尔类型？**
  - 在`SQL`标准中，存储`bool`和`boolean`类型。`MariaDB`为了支持`SQL`类型，也可以定义`bool`和`boolean`类型，但最后都会被转换成`tinyint(1)`格式进行保存。因此，创建表的时候将一个字段定义为`bool`和`boolean`，数据库中真实定义的是`tinyint(1)`格式。

- **【问题3】MariaDB中如何存储JPG图片和MP3音乐？**
  - 一般情况下，数据库中不直接存储图片和音频文件，而是存储图片和音频文件的路径。如果有需要在`MariaDB`中存储，就选择`blob`类型，因为`blob`类型可以用来存储二进制类型的文件。

-----------

